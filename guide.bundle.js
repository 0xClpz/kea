webpackJsonp([0],{1034:function(e,n,t){var a=t(577);"string"==typeof a&&(a=[[e.i,a,""]]);t(36)(a,{});a.locals&&(e.exports=a.locals)},1035:function(e,n,t){var a=t(578);"string"==typeof a&&(a=[[e.i,a,""]]);t(36)(a,{});a.locals&&(e.exports=a.locals)},1036:function(e,n,t){var a=t(579);"string"==typeof a&&(a=[[e.i,a,""]]);t(36)(a,{});a.locals&&(e.exports=a.locals)},1038:function(e,n,t){var a=t(581);"string"==typeof a&&(a=[[e.i,a,""]]);t(36)(a,{});a.locals&&(e.exports=a.locals)},1039:function(e,n,t){var a=t(583);"string"==typeof a&&(a=[[e.i,a,""]]);t(36)(a,{});a.locals&&(e.exports=a.locals)},1052:function(e,n,t){t(365),t(364),t(366),e.exports=t(363)},230:function(e,n,t){"use strict";function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function o(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var c=t(1034),s=(t.n(c),t(3)),i=t.n(s),l=t(20),u=(t.n(l),t(372)),d=t(371),m=t(76),p=t.n(m);t.d(n,"a",function(){return b});var h,f,y=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),g={index:t(805),logic:t(806),saga:t(807)},b=(h=t.i(l.connect)({actions:[d.a,["updateName"]],props:[d.a,["name","capitalizedName"]],sagas:[u.a]}),h(f=function(e){function n(){var e,t,o,c;a(this,n);for(var s=arguments.length,i=Array(s),l=0;l<s;l++)i[l]=arguments[l];return t=o=r(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),o.updateName=function(){var e=o.props.name,n=o.props.actions.updateName,t=window.prompt("Please enter the name",e);t&&n(t)},c=t,r(o,c)}return o(n,e),y(n,[{key:"render",value:function(){var e=this.props.capitalizedName;return i.a.createElement("div",{className:"connected-scene"},i.a.createElement("div",{className:"description"},i.a.createElement("h2",null,"Example #4 - Connected components"),"This example demonstrates connected components.",i.a.createElement("br",null),i.a.createElement("br",null),"As your application grows in size you may want to separate ",i.a.createElement("code",null,"kea(",")")," calls into separate files. You may then use the ",i.a.createElement("code",null,"@connect")," helper (or ",i.a.createElement("code",null,"@kea({ connect: {} })"),") to pull in actions and properties from the connected logic.",i.a.createElement("h2",null,"Final result"),i.a.createElement("div",{className:"demo"},i.a.createElement("h1",null,"Hello, I'm ",i.a.createElement("em",{onClick:this.updateName},e)," the Kea"))),i.a.createElement("div",{className:"code"},i.a.createElement("h2",null,"The code"),i.a.createElement("h3",null,"1. logic.js"),i.a.createElement(p.a,{className:"javascript"},g.logic)),i.a.createElement("div",{className:"code"},i.a.createElement("h3",null,"2. saga.js"),i.a.createElement(p.a,{className:"javascript"},g.saga)),i.a.createElement("div",{className:"code"},i.a.createElement("h3",null,"3. index.js"),i.a.createElement(p.a,{className:"javascript"},g.index)))}}]),n}(s.Component))||f)},231:function(e,n,t){"use strict";function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function o(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var c=t(1036),s=(t.n(c),t(3)),i=t.n(s),l=t(20),u=(t.n(l),t(75)),d=(t.n(u),t(76)),m=t.n(d),p=t(373);t.d(n,"a",function(){return b});var h,f,y=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),g={full:t(808),keyPath:t(809),reducers:t(810)},b=(h=t.i(l.kea)({}),h(f=function(e){function n(){var e,o,c,s;a(this,n);for(var i=arguments.length,l=Array(i),d=0;d<i;d++)l[d]=arguments[d];return o=c=r(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),c.handleRoute=function(e){var n=c.props.dispatch,a=e.target.attributes.href.value;e.preventDefault(),n(t.i(u.push)(a)),window.scrollTo(0,0)},s=o,r(c,s)}return o(n,e),y(n,[{key:"render",value:function(){return i.a.createElement("div",{className:"counter-dynamic-scene"},i.a.createElement("div",{className:"description"},i.a.createElement("h2",null,"Example #2 - Dynamic Counter"),"This example demonstrates dynamically created actions and reducers.",i.a.createElement("br",null),i.a.createElement("br",null),"Dynamically in this context means ",i.a.createElement("em",null,"on mount"),". In short, this allows you to create multiple instances of the component with separate state.",i.a.createElement("div",{className:"demo"},i.a.createElement(p.a,{id:1}),i.a.createElement("br",null),i.a.createElement(p.a,{id:2})),i.a.createElement("h2",null,"1. Key and path"),"The code for this example is almost the same as for the ",i.a.createElement("a",{href:"/guide/counter",onClick:this.handleRoute},"singleton counter"),".",i.a.createElement("br",null),i.a.createElement("br",null),"The big difference is that we must manually tell our component instances where to store their data:",i.a.createElement(m.a,{className:"javascript"},g.keyPath),"The ",i.a.createElement("code",null,"key")," function receives your component's props as input and must return a key that's unique for the life of the component. Usually it's something like ",i.a.createElement("code",null,"key = (props) => props.id")," if your component is rendered as ",i.a.createElement("code",null,"<Component id='somethingUnique' />"),i.a.createElement("br",null),i.a.createElement("br",null),"The ",i.a.createElement("code",null,"path")," specifies where the data for your component lives in redux. It takes just one argument, the ",i.a.createElement("code",null,"key")," from the previous step.",i.a.createElement("br",null),i.a.createElement("br",null),"Note! You may also use ",i.a.createElement("code",null,"path")," with singleton components (like the ",i.a.createElement("a",{href:"/guide/counter",onClick:this.handleRoute},"previous example"),") if you wish to specify where they will store their data.",i.a.createElement("br",null),i.a.createElement("br",null),"It makes your redux tree more readable and helps with debugging. In that case you must skip the ",i.a.createElement("code",null,"key")," line.",i.a.createElement("h2",null,"2. Limiting the reducers"),"There's one last thing you need to do.",i.a.createElement("br",null),i.a.createElement("br",null),"No matter which instance of your component triggers the action, all the reducers will receive it. So if counter #1 dispatches the ",i.a.createElement("code",null,"increment")," action, counter #2 will also receive it.",i.a.createElement("br",null),i.a.createElement("br",null),"In order to prevent this, you must check for the key in your reducers, like so:",i.a.createElement(m.a,{className:"javascript"},g.reducers),"And we're done!"),i.a.createElement("div",{className:"description"},i.a.createElement("h2",null,"Final Example"),"While the following counters have separate data, they are still connected to the counters on top of this page, as they share the same ",i.a.createElement("code",null,"id"),"s. You can mix and match!",i.a.createElement("div",{className:"demo"},i.a.createElement(p.a,{id:1}),i.a.createElement("br",null),i.a.createElement(p.a,{id:2})),"Next, check out the ",i.a.createElement("a",{href:"/guide/sliders",onClick:this.handleRoute},"sliders")," demo to see how to add side effects to your code.",i.a.createElement("h2",null,"Full source"),i.a.createElement(m.a,{className:"javascript"},g.full),i.a.createElement("a",{href:"/guide/sliders",onClick:this.handleRoute},"Next demo")))}}]),n}(s.Component))||f)},233:function(e,n,t){"use strict";function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function o(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var s=t(1038),i=(t.n(s),t(3)),l=t.n(i),u=t(20),d=(t.n(u),t(75)),m=(t.n(d),t(76)),p=t.n(m),h=t(232);t.d(n,"a",function(){return v});var f,y,g=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),b=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},E={full:t(815),import:t(816),actions:t(813),actions2:t(811),actions3:t(812),reducers:t(818),selectors:t(282),selectors2:t(819),noDecorators:t(817),todoReducer:t(820),component:t(814)},v=(f=t.i(u.kea)({actions:function(){return{toggleFeature:function(e){return{feature:e}}}},reducers:function(e){var n=e.actions;return{features:[{},i.PropTypes.object,c({},n.toggleFeature,function(e,n){var t=n.feature;return b({},e,c({},t,!e[t]))})]}}}),f(y=function(e){function n(){var e,o,c,s;a(this,n);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return o=c=r(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),c.handleRoute=function(e){var n=c.props.dispatch,a=e.target.attributes.href.value;e.preventDefault(),n(t.i(d.push)(a)),window.scrollTo(0,0)},s=o,r(c,s)}return o(n,e),g(n,[{key:"render",value:function(){var e=this.props.features,n=this.actions.toggleFeature;return l.a.createElement("div",{className:"counter-singleton-scene"},l.a.createElement("div",{className:"description"},l.a.createElement("h2",null,"Example #1 - Counter"),"Let's start with the most basic of all examples: creating a counter that we can increment and decrement with the push of a button!",l.a.createElement("br",null),l.a.createElement("br",null),"The final result should look something like this:",l.a.createElement("div",{className:"demo"},l.a.createElement(h.a,null)),"Click the buttons to make sure it works! And then let's begin!"),l.a.createElement("div",{className:"description"},l.a.createElement("h2",null,"1. Connecting @kea"),"Everything starts with importing ",l.a.createElement("code",null,"{ kea }")," into your application:",l.a.createElement(p.a,{className:"javascript"},E.import),"... and connecting it to your React component:",l.a.createElement(p.a,{className:"javascript"},E.component),l.a.createElement("button",{onClick:function(){return n("decorators")}},"What is this @kea({})?"),e.decorators?l.a.createElement("div",{className:"extra-help"},"The ",l.a.createElement("code",null,"@kea({})")," syntax is made possible by an experimental ESnext feature called ",l.a.createElement("strong",null,"decorators"),". You need to add the babel plugin ",l.a.createElement("a",{href:"https://github.com/loganfsmyth/babel-plugin-transform-decorators-legacy"},"babel-plugin-transform-decorators-legacy")," for them to work.",l.a.createElement("br",null),l.a.createElement("br",null),"In case decorators are not your cup of tea, you may just write your code like so:",l.a.createElement(p.a,{className:"javascript"},E.noDecorators)):null),l.a.createElement("div",{className:"description"},l.a.createElement("h2",null,"2. Actions, reducers, selectors, oh my!"),"Kea is built as a wrapper ",l.a.createElement("strong",null,"on top of")," ",l.a.createElement("a",{href:"http://redux.js.org/"},"redux"),", ",l.a.createElement("a",{href:"https://github.com/reactjs/reselect"},"reselect")," and ",l.a.createElement("a",{href:"https://redux-saga.js.org/"},"redux-saga"),".",l.a.createElement("br",null),l.a.createElement("br",null),"We strongly recommend you understand the basics of redux before continuing, as kea liberally borrows concepts from it.",l.a.createElement("h3",null,"2.1. Actions"),"The first thing we do is define our actions:",l.a.createElement(p.a,{className:"javascript"},E.actions),"An action in kea is simply a function that takes some arguments and returns a payload. In this case the functions take one argument (amount - the amount to increment with) and return an object with it as the only key/value.",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{onClick:function(){return n("actionDetails")}},"What is happening in the background?"),e.actionDetails?l.a.createElement("div",{className:"extra-help"},"We're using the ES6 double arrow shortand for creating functions. What we're actually doing is this:",l.a.createElement(p.a,{className:"javascript"},E.actions2),"When wrapping kea onto your component, we also create a new object, ",l.a.createElement("code",null,"this.actions"),", which automatically binds these action creators to redux's ",l.a.createElement("code",null,"dispatch()")," and generates a unique ",l.a.createElement("code",null,"type")," for them.",l.a.createElement("br",null),l.a.createElement("br",null),"Calling ",l.a.createElement("code",null,"this.actions.increment(1)")," is the same as doing:",l.a.createElement(p.a,{className:"javascript"},E.actions3)):null,l.a.createElement("h3",null,"2.2. Reducers"),"Now that we can dispatch actions, we need to define reducers. This is where your data lives.",l.a.createElement("br",null),l.a.createElement("br",null),"Reducers have an initial ",l.a.createElement("code",null,"state")," and define actions which change this state. They may also include an optional ",l.a.createElement("code",null,"propType"),". Here's an example:",l.a.createElement(p.a,{className:"javascript"},E.reducers),"The most important thing to remember about reducers is that they must consist of ",l.a.createElement("a",{href:"http://www.nicoespeon.com/en/2015/01/pure-functions-javascript/"},"pure functions"),".",l.a.createElement("br",null),l.a.createElement("br",null),"This means that your reducer must:",l.a.createElement("br",null),l.a.createElement("ol",null,l.a.createElement("li",null,"always return the same output for the same input"),l.a.createElement("li",null,"never change the input! (e.g. when adding something to an array, create and return a new array)"),l.a.createElement("li",null,"never have any other side effects, such as network requests (we'll get to them later in this guide)")),"If you understand how reducers work ",l.a.createElement("a",{href:"http://redux.js.org/docs/basics/Reducers.html"},"in redux"),", you should feel right at home here.",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{onClick:function(){return n("reducerDetails")}},"Tell me more!"),e.reducerDetails?l.a.createElement("div",{className:"extra-help"},"To see more complex reducers in action, look at ",l.a.createElement("a",{href:"https://github.com/mariusandra/kea-example/blob/master/app/scenes/todos/logic.js"},"the code for the todos example")," (copied below).",l.a.createElement("br",null),l.a.createElement("br",null),"We store all the todos in one object, and whenever we need to update anything for any todo, we return a completely new object.",l.a.createElement("br",null),l.a.createElement("br",null),"We use ES6 ",l.a.createElement("a",{href:"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment"},"destructuring")," and ",l.a.createElement("a",{href:"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Spread_operator"},"object spread")," features extensively.",l.a.createElement(p.a,{className:"javascript"},E.todoReducer)):null,l.a.createElement("h3",null,"2.3. Selectors"),"The final piece of the puzzle is ",l.a.createElement("code",null,"selectors"),".",l.a.createElement("br",null),l.a.createElement("br",null),"Selectors (via ",l.a.createElement("a",{href:"https://github.com/reactjs/reselect"},"reselect"),") take as input other selectors and return some output. Selectors are cached and are only updated if their input changes. You should use them to run complex logic that is too costly to run in ",l.a.createElement("code",null,"render()")," every time.",l.a.createElement("br",null),l.a.createElement("br",null),"Adding selectors gives us this final piece of code:",l.a.createElement(p.a,{className:"javascript"},E.selectors),"The selectors are defined like this:",l.a.createElement(p.a,{className:"javascript"},E.selectors2),"Note that kea automatically creates selectors for all the reducers that you have defined, so you can use ",l.a.createElement("code",null,"selectors.reducerName")," immediately as input."),l.a.createElement("div",{className:"description"},l.a.createElement("h2",null,"Final Example"),"Adding all of this together and rendering two  ",l.a.createElement("code",null,"<Counter />"),"s gives us the following result:",l.a.createElement("div",{className:"demo"},l.a.createElement(h.a,null),l.a.createElement("br",null),l.a.createElement(h.a,null)),"You might notice that something odd is happening: Incrementing one counter automatically increments the other. Is there something we can do about this?",l.a.createElement("br",null),l.a.createElement("br",null),"Yes. That's what the next example is all about: ",l.a.createElement("a",{href:"/guide/counter-dynamic",onClick:this.handleRoute},"Dynamic counters"),l.a.createElement("h2",null,"Full source"),l.a.createElement(p.a,{className:"javascript"},E.full),l.a.createElement("a",{href:"/guide/counter-dynamic",onClick:this.handleRoute},"Next demo")))}}]),n}(i.Component))||y)},234:function(e,n,t){"use strict";function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function o(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var s=t(1039),i=(t.n(s),t(3)),l=t.n(i),u=t(20),d=(t.n(u),t(75)),m=(t.n(d),t(235)),p=t(374),h=t(375),f=t(76),y=t.n(f);t.d(n,"a",function(){return w});var g,b,E=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),v=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},k={full:t(823),static:t(828),addSagaImports:t(821),addSagaStart:t(822),saga1Before:t(826),saga1After:t(825),saga2Effects:t(827)},w=(g=t.i(u.kea)({actions:function(){return{toggleFeature:function(e){return{feature:e}}}},reducers:function(e){var n=e.actions;return{features:[{},i.PropTypes.object,c({},n.toggleFeature,function(e,n){var t=n.feature;return v({},e,c({},t,!e[t]))})]}}}),g(b=function(e){function n(){var e,o,c,s;a(this,n);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return o=c=r(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),c.handleRoute=function(e){var n=c.props.dispatch,a=e.target.attributes.href.value;e.preventDefault(),n(t.i(d.push)(a)),window.scrollTo(0,0)},s=o,r(c,s)}return o(n,e),E(n,[{key:"render",value:function(){var e=this.props.features,n=this.actions.toggleFeature;return l.a.createElement("div",{className:"sliders-scene"},l.a.createElement("div",{className:"description"},l.a.createElement("h2",null,"Example #3 - Sliders"),"This example demonstrates side effects through sagas.",l.a.createElement("br",null),l.a.createElement("br",null),"We will build a slider that will update its image every 5 seconds.",l.a.createElement("h2",null,"Final result"),"The final result will look like this:",l.a.createElement("div",{className:"demo"},l.a.createElement("div",{className:"slider-container"},l.a.createElement(m.a,{id:1,initialSlide:0}))),"Whenever you press any of the dots the counter reset.",l.a.createElement("h2",null,"1. The static component"),"Based on knowledge from the previous chapers, you should be able to build a static slider.",l.a.createElement("br",null),l.a.createElement("br",null),"The code for it will look something like this:",l.a.createElement(y.a,{className:"javascript"},k.static),"This will give us the following result:",l.a.createElement("div",{className:"demo"},l.a.createElement("div",{className:"slider-container"},l.a.createElement(p.a,null))),"Click it! It works! But it won't change the slides automatically.",l.a.createElement("h2",null,"2. Just Add Sagas"),"For that we need to write some sagas.",l.a.createElement("br",null),l.a.createElement("br",null),"Sagas provide a nice way to write code that has side effects. They might be unfamiliar at first, but when you get to know them, you'll wonder how you ever wrote your frontend code without them.",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{onClick:function(){return n("sagas")}},"I need to brush up on my Sagas"),l.a.createElement("br",null),e.sagas?l.a.createElement("div",{className:"extra-help"},"Here is a quick refresher on sagas. Please read ",l.a.createElement("a",{href:"https://redux-saga.js.org/"},"the redux-saga documentation")," for more details.",l.a.createElement("br",null),l.a.createElement("br",null),"The cool thing with sagas is that they let you write async code in a sequential manner.",l.a.createElement("br",null),l.a.createElement("br",null),"When before you would write:",l.a.createElement(y.a,{className:"javascript"},k.saga1Before),"With sagas you can write the same code like this:",l.a.createElement(y.a,{className:"javascript"},k.saga1After),l.a.createElement("button",{onClick:function(){return n("sagasGenerators")}},"What the ...?"),l.a.createElement("br",null),e.sagasGenerators?l.a.createElement("div",{className:"extra-help"},"Notice the ",l.a.createElement("code",null,"*")," between ",l.a.createElement("code",null,"function * doSomething()")," and the ",l.a.createElement("code",null,"yield")," before ",l.a.createElement("code",null,"yield api.fetchUsers()"),".",l.a.createElement("br",null),l.a.createElement("br",null),"The ",l.a.createElement("code",null,"*")," indicates that youre creating a ",l.a.createElement("a",{href:"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Statements/function*"},l.a.createElement("em",null,"generator function")),". From MDN: ",l.a.createElement("em",null,"Generators are functions which can be exited and later re-entered. Their context (variable bindings) will be saved across re-entrances."),l.a.createElement("br",null),l.a.createElement("br",null),"It's a bit like using the new ES ",l.a.createElement("code",null,"async")," and ",l.a.createElement("code",null,"await")," features."):null,l.a.createElement("br",null),"There are a few special effects you can use to control your sagas:",l.a.createElement(y.a,{className:"javascript"},k.saga2Effects),"For this example it's important that you understand how the ",l.a.createElement("code",null,"put"),", ",l.a.createElement("code",null,"take")," and ",l.a.createElement("code",null,"race")," effects work. ",l.a.createElement("code",null,"takeEvery")," is nice to know as well!"):null,l.a.createElement("br",null),"First we must import the ",l.a.createElement("code",null,"redux-saga/effects")," that we need. We'll also import a ",l.a.createElement("code",null,"delay")," effect that just sleeps for the given amount of milliseconds.",l.a.createElement(y.a,{className:"javascript"},k.addSagaImports),"And then we create a ",l.a.createElement("code",null,"start")," generator function inside ",l.a.createElement("code",null,"@kea({})"),". This function is called every time your component is mounted.",l.a.createElement("br",null),l.a.createElement("br",null),"Inside this function we create a ",l.a.createElement("code",null,"race")," condition between two competing effects: a delay of 5 sec and the action ",l.a.createElement("code",null,"updateSlide")," being triggered. The code pauses at the ",l.a.createElement("code",null,"yield race()")," call until one of the two conditions comes through.",l.a.createElement("br",null),l.a.createElement("br",null),"In case it was the timeout that happened, we fetch the latest slide (",l.a.createElement("code",null,"yield this.get(..)")," is a shorthand to use the selectors defined in ",l.a.createElement("code",null,"@kea({})"),")... and then we dispatch (",l.a.createElement("code",null,"yield put"),") the ",l.a.createElement("code",null,"updateSlide")," action with the next slide.",l.a.createElement(y.a,{className:"javascript"},k.addSagaStart),"All of this results in this:",l.a.createElement("div",{className:"demo"},l.a.createElement("div",{className:"slider-container"},l.a.createElement(h.a,null))),"Now if you will always just have one slider on your screen, you're done. If you wish to run many, you will run into the same issue as with the dynamic counter example - both sliders will listen to and react to the ",l.a.createElement("code",null,"updateSlide")," actions unless you explicitly prohibit them.",l.a.createElement("br",null),l.a.createElement("br",null),"The code below demonstrates a way to prevent this from happening. It also shows the other saga functions that are available in kea."),l.a.createElement("div",{className:"code"},l.a.createElement("h2",null,"Full source"),"Better documentation is coming soon. Until then, read the comments in the code and the ",l.a.createElement("a",{href:"https://redux-saga.js.org/"},"redux-saga")," documentation.",l.a.createElement(y.a,{className:"javascript"},k.full),l.a.createElement("a",{href:"/guide/connected",onClick:this.handleRoute},"Next demo")))}}]),n}(i.Component))||b)},363:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(24),r=(t.n(a),t(230));n.default=t.i(a.createScene)({name:"connected",component:r.a})},364:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(24),r=(t.n(a),t(231));n.default=t.i(a.createScene)({name:"counter-dynamic",component:r.a})},365:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(24),r=(t.n(a),t(233));n.default=t.i(a.createScene)({name:"counter",component:r.a})},366:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(24),r=(t.n(a),t(234));n.default=t.i(a.createScene)({name:"sliders",component:r.a})},371:function(e,n,t){"use strict";function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var r=t(3),o=(t.n(r),t(20));t.n(o);n.a=t.i(o.kea)({path:function(){return["scenes","homepage","index"]},actions:function(e){e.constants;return{updateName:function(e){return{name:e}}}},reducers:function(e){var n=e.actions;e.constants;return{name:["Chirpy",r.PropTypes.string,a({},n.updateName,function(e,n){return n.name})]}},selectors:function(e){var n=(e.constants,e.selectors);return{capitalizedName:[function(){return[n.name]},function(e){return e.trim().split(" ").map(function(e){return""+e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}).join(" ")},r.PropTypes.string]}}})},372:function(e,n,t){"use strict";var a=t(20),r=(t.n(a),t(147));n.a=t.i(a.createSaga)({start:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Starting homepage saga"),this.count=0;case 2:return e.next=5,t.i(r.a)(1e3);case 5:this.count+=1,console.log(this.count),e.next=2;break;case 9:case"end":return e.stop()}},e,this)}),stop:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Stopping homepage saga"),console.log("got to "+this.count);case 2:case"end":return e.stop()}},e,this)})})},373:function(e,n,t){"use strict";function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function o(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var s=t(1035),i=(t.n(s),t(3)),l=t.n(i),u=t(20);t.n(u);t.d(n,"a",function(){return h});var d,m,p=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),h=(d=t.i(u.kea)({key:function(e){return e.id},path:function(e){return["scenes","counterDynamic","counter",e]},actions:function(){return{increment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{amount:e}},decrement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{amount:e}}}},reducers:function(e){var n,t=e.actions,a=e.key;e.props;return{counter:[0,i.PropTypes.number,(n={},c(n,t.increment,function(e,n){return n.key===a?e+n.amount:e}),c(n,t.decrement,function(e,n){return n.key===a?e-n.amount:e}),n)]}},selectors:function(e){var n=e.selectors;return{doubleCounter:[function(){return[n.counter]},function(e){return 2*e},i.PropTypes.number]}}}),d(m=function(e){function n(){return a(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,e),p(n,[{key:"render",value:function(){var e=this.props,n=e.counter,t=e.doubleCounter,a=this.actions,r=a.increment,o=a.decrement;return l.a.createElement("div",{className:"kea-counter"},"Count: ",n,l.a.createElement("br",null),"Doublecount: ",t,l.a.createElement("br",null),l.a.createElement("button",{onClick:function(){return r(1)}},"Increment"),l.a.createElement("button",{onClick:function(){return o(1)}},"Decrement"))}}]),n}(i.Component))||m)},374:function(e,n,t){"use strict";function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function o(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);
e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var s=t(227),i=(t.n(s),t(3)),l=t.n(i),u=t(20),d=(t.n(u),t(148)),m=t(146);t.d(n,"a",function(){return y});var p,h,f=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),y=(p=t.i(u.kea)({actions:function(){return{updateSlide:function(e){return{index:e}}}},reducers:function(e){var n=e.actions;return{currentSlide:[0,i.PropTypes.number,c({},n.updateSlide,function(e,n){return n.index%m.a.length})]}},selectors:function(e){var n=e.selectors;return{currentImage:[function(){return[n.currentSlide]},function(e){return m.a[e]},i.PropTypes.object]}}}),p(h=function(e){function n(){return a(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,e),f(n,[{key:"render",value:function(){var e=this.props,n=e.currentSlide,a=e.currentImage,r=this.actions.updateSlide,o="Image copyright by "+a.author;return l.a.createElement("div",{className:"kea-slider"},l.a.createElement("img",{src:a.src,alt:o,title:o}),l.a.createElement("div",{className:"buttons"},t.i(d.a)(m.a.length).map(function(e){return l.a.createElement("span",{key:e,className:e===n?"selected":"",onClick:function(){return r(e)}})})))}}]),n}(i.Component))||h)},375:function(e,n,t){"use strict";function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function o(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var s=t(227),i=(t.n(s),t(3)),l=t.n(i),u=t(20),d=(t.n(u),t(62)),m=t(148),p=t(147),h=t(146);t.d(n,"a",function(){return b});var f,y,g=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),b=(f=t.i(u.kea)({actions:function(){return{updateSlide:function(e){return{index:e}}}},reducers:function(e){var n=e.actions;return{currentSlide:[0,i.PropTypes.number,c({},n.updateSlide,function(e,n){return n.index%h.a.length})]}},selectors:function(e){var n=e.selectors;return{currentImage:[function(){return[n.currentSlide]},function(e){return h.a[e]},i.PropTypes.object]}},start:regeneratorRuntime.mark(function e(){var n,a,r,o,c=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.actions.updateSlide,console.log("Starting homepage slider saga"),console.log(this,this.actions,this.props);case 3:return e.next=6,t.i(d.race)({change:t.i(d.take)(function(e){return e.type===n.toString()&&e.payload.key===c.key}),timeout:t.i(p.a)(5e3)});case 6:if(a=e.sent,r=a.timeout,!r){e.next=14;break}return e.next=11,this.get("currentSlide");case 11:return o=e.sent,e.next=14,t.i(d.put)(n(o+1));case 14:e.next=3;break;case 16:case"end":return e.stop()}},e,this)})}),f(y=function(e){function n(){return a(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,e),g(n,[{key:"render",value:function(){var e=this.props,n=e.currentSlide,a=e.currentImage,r=this.actions.updateSlide,o="Image copyright by "+a.author;return l.a.createElement("div",{className:"kea-slider"},l.a.createElement("img",{src:a.src,alt:o,title:o}),l.a.createElement("div",{className:"buttons"},t.i(m.a)(h.a.length).map(function(e){return l.a.createElement("span",{key:e,className:e===n?"selected":"",onClick:function(){return r(e)}})})))}}]),n}(i.Component))||y)},381:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(24),r=(t.n(a),t(230));n.default=t.i(a.createScene)({name:"connected",component:r.a})},382:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(24),r=(t.n(a),t(231));n.default=t.i(a.createScene)({name:"counter-dynamic",component:r.a})},383:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(24),r=(t.n(a),t(233));n.default=t.i(a.createScene)({name:"counter",component:r.a})},384:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(24),r=(t.n(a),t(234));n.default=t.i(a.createScene)({name:"sliders",component:r.a})},577:function(e,n,t){n=e.exports=t(33)(),n.push([e.i,"",""])},578:function(e,n,t){n=e.exports=t(33)(),n.push([e.i,"",""])},579:function(e,n,t){n=e.exports=t(33)(),n.push([e.i,".counter-dynamic-scene {\n  // text-align: center;\n}\n",""])},581:function(e,n,t){n=e.exports=t(33)(),n.push([e.i,".counter-singleton-scene {\n  // text-align: center;\n}\n",""])},583:function(e,n,t){n=e.exports=t(33)(),n.push([e.i,".sliders-scene {\n  text-align: center;\n}\n.sliders-scene .slider-container {\n  max-width: 500px;\n  margin: 0 auto;\n}\n",""])},805:function(e,n){e.exports="// index.js\nimport React, { Component } from 'react'\nimport { kea, connect } from 'kea'\n\nimport sceneSaga from './saga'\nimport sceneLogic from './logic'\n\n// option 1\n@connect({\n  actions: [\n    sceneLogic, [ // pull these actions from logic.js\n      'updateName'\n    ]\n  ],\n  props: [\n    sceneLogic, [ // pull these props from logic.js\n      'name',\n      'capitalizedName'\n    ]\n  ],\n  sagas: [ // start/stop this saga when mounting/unmounting the component\n    sceneSaga\n  ]\n})\n\n// option 2\n// in case we define some local actions/reducers\n@kea({\n  connect: {\n    actions: [\n      sceneLogic, [\n        'updateName'\n      ]\n    ],\n    props: [\n      sceneLogic, [\n        'name',\n        'capitalizedName'\n      ]\n    ]\n  },\n  sagas: [\n    sceneSaga\n  ],\n  actions: ..., // some local actions\n  reducers: ... // some local reducers\n})\n\n// option 3\n@sceneLogic // Binds the entire logic to this component, just from a different file.\n            // We can still @connect to it from other source files.\n            // In this case we need to also add sagas: [ sceneSaga ] in logic.js.\n\nexport default class HomepageScene extends Component {\n  updateName = () => {\n    const { name } = this.props\n    const { updateName } = this.props.actions\n\n    const newName = window.prompt('Please enter the name', name)\n\n    if (newName) {\n      updateName(newName)\n    }\n  }\n\n  render () {\n    const { capitalizedName } = this.props\n\n    return (\n      <div>\n        <h1>\n          Hello, I'm <em onClick={this.updateName}>{capitalizedName}</em> the Kea\n        </h1>\n      </div>\n    )\n  }\n}\n"},806:function(e,n){e.exports="// logic.js\nimport { PropTypes } from 'react'\nimport { kea } from 'kea'\n\n// this time we're exporting kea({}), not connecting it to the component with @kea({})\nexport default kea({\n  path: () => ['scenes', 'homepage', 'index'],\n\n  actions: ({ constants }) => ({\n    updateName: name => ({ name })\n  }),\n\n  reducers: ({ actions, constants }) => ({\n    name: ['Chirpy', PropTypes.string, {\n      [actions.updateName]: (state, payload) => payload.name\n    }]\n  }),\n\n  selectors: ({ constants, selectors }) => ({\n    capitalizedName: [\n      () => [selectors.name],\n      (name) => {\n        return name.trim().split(' ').map(k => `${k.charAt(0).toUpperCase()}${k.slice(1).toLowerCase()}`).join(' ')\n      },\n      PropTypes.string\n    ]\n  })\n})\n"},807:function(e,n){e.exports="// saga.js\nimport { createSaga } from 'kea'\n\nimport delay from '~/utils/delay'\n\nexport default createSaga({\n  start: function * () {\n    console.log('Starting homepage saga')\n\n    this.count = 0\n\n    while (true) {\n      yield delay(1000)\n      this.count += 1\n      console.log(this.count)\n    }\n  },\n\n  stop: function * () {\n    console.log('Stopping homepage saga')\n    console.log(`got to ${this.count}`)\n  }\n})\n"},808:function(e,n){e.exports="// counter/index.js\nimport React, { Component, PropTypes } from 'react'\nimport { kea } from 'kea'\n\n@kea({\n  key: (props) => props.id,\n  path: (key) => ['scenes', 'counterDynamic', 'counter', key],\n\n  actions: () => ({\n    increment: (amount = 1) => ({ amount }),\n    decrement: (amount = 1) => ({ amount })\n  }),\n\n  reducers: ({ actions, key, props }) => ({\n    counter: [0, PropTypes.number, {\n      [actions.increment]: (state, payload) => payload.key === key ? state + payload.amount : state,\n      [actions.decrement]: (state, payload) => payload.key === key ? state - payload.amount : state\n    }]\n  }),\n\n  selectors: ({ selectors }) => ({\n    doubleCounter: [\n      () => [selectors.counter],\n      (counter) => counter * 2,\n      PropTypes.number\n    ]\n  })\n})\nexport default class Counter extends Component {\n  render () {\n    const { counter, doubleCounter } = this.props\n    const { increment, decrement } = this.actions\n\n    return (\n      <div className='kea-counter'>\n        Count: {counter}\n        <br />\n        Doublecount: {doubleCounter}\n        <br />\n        <button onClick={() => increment(1)}>Increment</button>\n        <button onClick={() => decrement(1)}>Decrement</button>\n      </div>\n    )\n  }\n}\n\n// index.js\nexport default class CounterDynamicScene extends Component {\n  render () {\n    return (\n      <div>\n        <Counter id={1} />\n        <Counter id={2} />\n      </div>\n    )\n  }\n}\n"},809:function(e,n){e.exports="import React, { Component, PropTypes } from 'react'\nimport { kea } from 'kea'\n\n@kea({\n  key: (props) => props.id,\n\n  path: (key) => ['scenes', 'counterDynamic', 'counter', key],\n\n  // ...\n})\nexport default class Counter extends Component {\n  // ...\n}\n"},810:function(e,n){e.exports="@kea({\n  key: (props) => props.id,\n  path: (key) => ['scenes', 'counterDynamic', 'counter', key],\n\n  actions: () => ({\n    increment: (amount = 1) => ({ amount }),\n    decrement: (amount = 1) => ({ amount })\n  }),\n\n  reducers: ({ actions, key, props }) => ({\n    counter: [0, PropTypes.number, {\n      [actions.increment]: (state, payload) => payload.key === key ? state + payload.amount : state,\n      [actions.decrement]: (state, payload) => payload.key === key ? state - payload.amount : state\n    }]\n  }),\n\n  // selectors: ...\n})\n"},811:function(e,n){e.exports="function increment (amount) {\n  if (typeof amount === 'undefined') {\n    amount = 1\n  }\n\n  const object = { amount: amount }\n  return object\n}\n"},812:function(e,n){e.exports="store.dispatch({\n  type: 'increment counter', // autogenerated unique type\n  payload: {\n    amount: 1\n  }\n})\n"},813:function(e,n){e.exports="// counter/index.js\nimport React, { Component, PropTypes } from 'react'\nimport { kea } from 'kea'\n\n@kea({\n  actions: () => ({\n    increment: (amount = 1) => ({ amount }),\n    decrement: (amount = 1) => ({ amount })\n  }),\n  // TODO: add things here\n})\nexport default class Counter extends Component {\n  render () {\n    const { increment, decrement } = this.actions\n\n    // TODO: make these work\n    const counter = 0\n    const counter = 0\n\n    return (\n      <div className='kea-counter'>\n        Count: {counter}\n        <br />\n        Doublecount: {doubleCounter}\n        <br />\n        <button onClick={() => increment(1)}>Increment</button>\n        <button onClick={() => decrement(1)}>Decrement</button>\n      </div>\n    )\n  }\n}\n"},814:function(e,n){e.exports="import React, { Component, PropTypes } from 'react'\nimport { kea } from 'kea'\n\n@kea({\n  // TODO: code goes here\n})\nexport default class Counter extends Component {\n  render () {\n    // TODO: make these work\n    const counter = 0\n    const doubleCounter = 0\n    const increment = () => {}\n    const decrement = () => {}\n\n    return (\n      <div className='kea-counter'>\n        Count: {counter}\n        <br />\n        Doublecount: {doubleCounter}\n        <br />\n        <button onClick={() => increment(1)}>Increment</button>\n        <button onClick={() => decrement(1)}>Decrement</button>\n      </div>\n    )\n  }\n}\n"},815:function(e,n){e.exports="// counter/index.js\nimport React, { Component, PropTypes } from 'react'\nimport { kea } from 'kea'\n\n@kea({\n  actions: () => ({\n    increment: (amount = 1) => ({ amount }),\n    decrement: (amount = 1) => ({ amount })\n  }),\n\n  reducers: ({ actions }) => ({\n    counter: [0, PropTypes.number, {\n      [actions.increment]: (state, payload) => state + payload.amount,\n      [actions.decrement]: (state, payload) => state - payload.amount\n    }]\n  }),\n\n  selectors: ({ selectors }) => ({\n    doubleCounter: [\n      () => [selectors.counter],\n      (counter) => counter * 2,\n      PropTypes.number\n    ]\n  })\n})\nexport default class Counter extends Component {\n  render () {\n    const { counter, doubleCounter } = this.props\n    const { increment, decrement } = this.actions\n\n    return (\n      <div className='kea-counter'>\n        Count: {counter}\n        <br />\n        Doublecount: {doubleCounter}\n        <br />\n        <button onClick={() => increment(1)}>Increment</button>\n        <button onClick={() => decrement(1)}>Decrement</button>\n      </div>\n    )\n  }\n}\n\n// index.js\nexport default class CounterSingletonScene extends Component {\n  render () {\n    return (\n      <div>\n        <Counter />\n        <Counter />\n      </div>\n    )\n  }\n}\n"},816:function(e,n){e.exports="import { kea } from 'kea'\n"},817:function(e,n){e.exports="import React, { Component, PropTypes } from 'react'\nimport { kea } from 'kea'\n\nconst keaOptions = {\n  // ... code here\n}\n\nclass Counter extends Component {\n  render () {\n    // TODO: make these work\n    const counter = 0\n    const doubleCounter = 0\n    const increment = () => {}\n    const decrement = () => {}\n\n    return (\n      <div className='kea-counter'>\n        Count: {counter}\n        <br />\n        Doublecount: {doubleCounter}\n        <br />\n        <button onClick={() => increment(1)}>Increment</button>\n        <button onClick={() => decrement(1)}>Decrement</button>\n      </div>\n    )\n  }\n}\n\nexport default kea(keaOptions)(Component)\n"},818:function(e,n){e.exports="import React, { Component, PropTypes } from 'react'\nimport { kea } from 'kea'\n\n@kea({\n  actions: () => ({\n    increment: (amount = 1) => ({ amount }),\n    decrement: (amount = 1) => ({ amount })\n  }),\n\n  reducers: ({ actions }) => ({\n    counter: [0, PropTypes.number, {\n      [actions.increment]: (state, payload) => state + payload.amount,\n      [actions.decrement]: (state, payload) => state - payload.amount\n    }]\n  }),\n\n  // TODO: more code here?\n})\nexport default class Counter extends Component {\n  render () {\n    const { counter } = this.props\n    const { increment, decrement } = this.actions\n\n    // TODO: make this be double counter\n    const doubleCounter = 0\n\n    return (\n      <div className='kea-counter'>\n        Count: {counter}\n        <br />\n        Doublecount: {doubleCounter}\n        <br />\n        <button onClick={() => increment(1)}>Increment</button>\n        <button onClick={() => decrement(1)}>Decrement</button>\n      </div>\n    )\n  }\n}\n"},819:function(e,n){e.exports="selectors: ({ selectors }) => ({\n  // add as many as you want\n  nameOfSelector: [\n    // input selectors\n    () => [selectors.firstOtherSelector, selectors.secondOtherSelector],\n    // calculate the result\n    (firstOther, secondOther) => firstOther + secondOther,\n    // type of the result\n    PropTypes.number\n  ]\n})\n"},820:function(e,n){e.exports="\nactions: ({ constants }) => ({\n  // tab\n  showAll: true,\n  showActive: true,\n  showCompleted: true,\n\n  // todos\n  addTodo: value => ({ value }),\n  removeTodo: id => ({ id }),\n  completeTodo: id => ({ id }),\n  unCompleteTodo: id => ({ id }),\n  renameTodo: (id, value) => ({ id, value }),\n  setEditing: id => ({ id }),\n  updateEditValue: (id, value) => ({ id, value }),\n  clearEditing: id => ({ id }),\n  toggleAll: completed => ({ completed }),\n  clearCompleted: true\n}),\n\nreducers: ({ actions, constants }) => ({\n  visibilityFilter: [constants.SHOW_ALL, PropTypes.string, {\n    [actions.showAll]: () => constants.SHOW_ALL,\n    [actions.showActive]: () => constants.SHOW_ACTIVE,\n    [actions.showCompleted]: () => constants.SHOW_COMPLETED\n  }],\n\n  todos: [{}, PropTypes.object, { persist: true }, {\n    [actions.addTodo]: (state, payload) => {\n      const { value } = payload\n      const id = createUuid()\n\n      return {\n        ...state,\n        [id]: {\n          id,\n          createdAt: new Date().getTime(),\n          value,\n          completed: false,\n          editing: false\n        }\n      }\n    },\n    [actions.removeTodo]: (state, payload) => {\n      const { id } = payload\n      const { [id]: _dispose_, ...rest } = state\n      return rest\n    },\n    [actions.completeTodo]: (state, payload) => {\n      const { id } = payload\n\n      return {\n        ...state,\n        [id]: {\n          ...state[id],\n          completed: true\n        }\n      }\n    },\n    [actions.unCompleteTodo]: (state, payload) => {\n      const { id } = payload\n\n      return {\n        ...state,\n        [id]: {\n          ...state[id],\n          completed: false\n        }\n      }\n    },\n    [actions.renameTodo]: (state, payload) => {\n      const { id, value } = payload\n\n      return {\n        ...state,\n        [id]: {\n          ...state[id],\n          value\n        }\n      }\n    },\n    [actions.toggleAll]: (state, payload) => {\n      const { completed } = payload\n      let newState = {}\n      Object.values(state).forEach(todo => {\n        newState[todo.id] = {...todo, completed}\n      })\n\n      return newState\n    },\n    [actions.clearCompleted]: (state, payload) => {\n      let newState = {}\n      Object.values(state).forEach(todo => {\n        if (!todo.completed) {\n          newState[todo.id] = todo\n        }\n      })\n      return newState\n    },\n    [actions.setEditing]: (state, payload) => {\n      const { id } = payload\n\n      return {\n        ...state,\n        [id]: {\n          ...state[id],\n          editing: true,\n          editValue: state[id].value\n        }\n      }\n    },\n    [actions.updateEditValue]: (state, payload) => {\n      const { id, value } = payload\n\n      return {\n        ...state,\n        [id]: {\n          ...state[id],\n          editValue: value\n        }\n      }\n    },\n    [actions.clearEditing]: (state, payload) => {\n      const { id } = payload\n\n      return {\n        ...state,\n        [id]: {\n          ...state[id],\n          editing: false,\n          editValue: null\n        }\n      }\n    }\n  }]\n}),\n\n"},821:function(e,n){e.exports="import { take, race, put } from 'redux-saga/effects'\nimport delay from '~/utils/delay'\n"},822:function(e,n){e.exports="@kea({\n  actions: () => ({\n    updateSlide: index => ({ index })\n  }),\n\n  // ...\n\n  // run this saga when the component is mounted\n  start: function * () {\n    const { updateSlide } = this.actions\n\n    while (true) {\n      const { timeout } = yield race({\n        change: take(updateSlide.toString()),\n        timeout: delay(5000)\n      })\n\n      if (timeout) {\n        const currentSlide = yield this.get('currentSlide')\n        yield put(updateSlide(currentSlide + 1))\n      }\n    }\n  }\n})\nexport default class StaticSlider extends Component {\n  // as it was\n}\n"},823:function(e,n){e.exports="// slider/index.js\nimport './styles.scss'\n\nimport React, { Component, PropTypes } from 'react'\nimport { kea } from 'kea'\n\nimport { take, race, put } from 'redux-saga/effects'\n\nimport delay from '~/utils/delay'\nimport range from '~/utils/range'\n\nimport images from './images'\n\n@kea({\n  key: (props) => props.id,\n\n  path: (key) => ['scenes', 'homepage', 'slider', key],\n\n  actions: () => ({\n    updateSlide: index => ({ index })\n  }),\n\n  reducers: ({ actions, key, props }) => ({\n    currentSlide: [props.initialSlide || 0, PropTypes.number, {\n      [actions.updateSlide]: (state, payload) => {\n        return payload.key === key ? payload.index % images.length : state\n      }\n    }]\n  }),\n\n  selectors: ({ selectors }) => ({\n    currentImage: [\n      () => [selectors.currentSlide],\n      (currentSlide) => images[currentSlide],\n      PropTypes.object\n    ]\n  }),\n\n  // This saga is run when the component is mounted.\n  // The function is a regular redux-saga worker that has access to:\n  // 1) this.actions, 2) this.key and 3) this.props\n  //\n  // Read the redux-saga documentation to understand the different\n  // functions like: race(), put(), take(), etc\n  start: function * () {\n    const { updateSlide } = this.actions\n\n    console.log('Starting homepage slider saga')\n    // console.log(this, this.actions, this.props)\n\n    while (true) {\n      // wait until the updateSlide() action is triggered or a 5sec timeout occurs\n      // to ignore actions from other slider instances we must also match the key\n      const { timeout } = yield race({\n        change: take(action => action.type === updateSlide.toString() &&\n                               action.payload.key === this.key),\n        timeout: delay(5000)\n      })\n\n      if (timeout) {\n        // use this.get(..) to select the latest data from redux\n        const currentSlide = yield this.get('currentSlide')\n\n        // actions are not automatically bound to dispatch, so\n        // you must use redux-saga's put() with them\n        yield put(updateSlide(currentSlide + 1))\n      }\n    }\n  },\n\n  // this saga is run when the component is unmounted\n  stop: function * () {\n    console.log('Stopping homepage slider saga')\n  },\n\n  // The redux-saga takeEvery function.\n  // It waits for actions and runs the relevant functions.\n  // Also available: takeLatest\n  takeEvery: ({ actions, workers }) => ({\n    [actions.updateSlide]: workers.updateSlide\n  }),\n\n  // it's recommended to group all the logic under the workers: {} object.\n  workers: {\n    updateSlide: function * (action) {\n      // check if it was this component that triggered the action\n      if (action.payload.key === this.key) {\n        console.log('slide update triggered', action.payload.key, this.key, this.props.id)\n        // console.log(action, this)\n      }\n    }\n  }\n})\nexport default class Slider extends Component {\n  render () {\n    const { currentSlide, currentImage } = this.props\n    const { updateSlide } = this.actions\n\n    const title = `Image copyright by ${currentImage.author}`\n\n    return (\n      <div className='kea-slider'>\n        <img src={currentImage.src} alt={title} title={title} />\n        <div className='buttons'>\n          {range(images.length).map(i => (\n            <span key={i}\n                  className={i === currentSlide ? 'selected' : ''}\n                  onClick={() => updateSlide(i)} />\n          ))}\n        </div>\n      </div>\n    )\n  }\n}\n\n// index.js\nexport default class SlidersScene extends Component {\n  render () {\n    return (\n      <div className='slider-container'>\n        <Slider id={1} initialSlide={0} />\n        <Slider id={2} initialSlide={1} />\n      </div>\n    )\n  }\n}\n\n"},825:function(e,n){e.exports="import api from './api'\n\nfunction * doSomething () {\n  const result = yield api.fetchUsers()\n  console.log('api returned', result)\n  // do something with \"result\"\n}\n"},826:function(e,n){e.exports="import api from './api'\n\nfunction doSomething () {\n  api.fetchUsers().then(result => {\n    console.log('api returned', result)\n    // do something with \"result\"\n  })\n}\n"},827:function(e,n){e.exports="import api from './api'\nimport { take, race, put, fork, call } from 'redux-saga/effects'\n\nconst loadUsers = (search) => ({ type: 'LOAD_USERS', payload: { search } })\n\n// all saga effects must be run in generator functions\nfunction * saga () {\n\n  // here are some things you can do inside sagas\n\n  // block until an action with the type \"LOAD_USERS\" was dispatched\n  yield take('LOAD_USERS')\n\n  // dispatch the redux action \"loadUsers('something')\"\n  // == { type: 'LOAD_USERS', payload: { search: 'something' } }\n  yield put(loadUsers('something'))\n\n  // wait until either the action 'LOAD_USERS' or the action 'LOAD_POSTS' got dispatched\n  const winner = yield race({\n    loadUsers: take('LOAD_USERS'),\n    loadPosts: take('LOAD_POSTS'),\n  })\n\n  // in case the winner was loadUsers:\n  // winner == { loadUsers: /* something */, loadPosts: undefined }\n  console.log(winner)\n\n  // anything that returns a promise (.then(result => {})) can also be accessed like this:\n  const result = yield api.loadUsers()\n\n  // start another saga in the background (will not block)\n  yield fork(waitForUsersAction)\n\n  // start another saga in the foreground (will block until it finishes)\n  yield call(otherWorker)\n}\n\nfunction * otherWorker () {\n  console.log('inside otherworker')\n}\n\nfunction * waitForUsersAction () {\n  while (true) {\n    yield take(LOAD_USERS)\n    const result = yield api.loadUsers()\n    yield put({ type: 'USERS_LOADED', payload: { result } })\n  }\n}\n"},828:function(e,n){e.exports="import React, { Component, PropTypes } from 'react'\nimport { kea } from 'kea'\n\nimport images from './images'     // array of objects [{ src, author }, ...]\nimport range from '~/utils/range' // helper, range(3) === [0, 1, 2]\n\n@kea({\n  actions: () => ({\n    updateSlide: index => ({ index })\n  }),\n\n  reducers: ({ actions }) => ({\n    currentSlide: [0, PropTypes.number, {\n      [actions.updateSlide]: (state, payload) => payload.index % images.length\n    }]\n  }),\n\n  selectors: ({ selectors }) => ({\n    currentImage: [\n      () => [selectors.currentSlide],\n      (currentSlide) => images[currentSlide],\n      PropTypes.object\n    ]\n  })\n})\nexport default class Slider extends Component {\n  render () {\n    const { currentSlide, currentImage } = this.props\n    const { updateSlide } = this.actions\n\n    const title = `Image copyright by ${currentImage.author}`\n\n    return (\n      <div className='kea-slider'>\n        <img src={currentImage.src} alt={title} title={title} />\n        <div className='buttons'>\n          {range(images.length).map(i => (\n            <span key={i}\n                  className={i === currentSlide ? 'selected' : ''}\n                  onClick={() => updateSlide(i)} />\n          ))}\n        </div>\n      </div>\n    )\n  }\n}\n"}},[1052]);