webpackJsonp([1],{1024:function(e,t,n){var r=n(574);"string"==typeof r&&(r=[[e.i,r,""]]);n(36)(r,{});r.locals&&(e.exports=r.locals)},1025:function(e,t,n){var r=n(575);"string"==typeof r&&(r=[[e.i,r,""]]);n(36)(r,{});r.locals&&(e.exports=r.locals)},1041:function(e,t,n){e.exports=n(359)},226:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=n(1025),u=(n.n(c),n(4)),i=n.n(u),l=n(34),s=(n.n(l),n(90)),p=(n.n(s),n(138)),m=n.n(p),d=n(146),f=(n.n(d),n(368));n.d(t,"a",function(){return v});var y,h,b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k={full:n(805),keyPath:n(806),reducers:n(807)},v=(y=n.i(l.kea)({}),y(h=function(e){function t(){var e,a,c,u;r(this,t);for(var i=arguments.length,l=Array(i),p=0;p<i;p++)l[p]=arguments[p];return a=c=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),c.handleRoute=function(e){var t=c.props.dispatch,r=e.target.attributes.href.value;e.preventDefault(),t(n.i(s.push)(r)),window.scrollTo(0,0)},u=a,o(c,u)}return a(t,e),b(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"counter-dynamic-scene"},i.a.createElement("div",{className:"description"},i.a.createElement("h2",null,"Example #2 - Dynamic Counter"),"This example demonstrates dynamically created actions and reducers.",i.a.createElement("div",{className:"demo"},i.a.createElement(f.a,{id:1}),i.a.createElement("br",null),i.a.createElement(f.a,{id:2})),i.a.createElement("h2",null,"1. Key and path"),"The code for this example is almost the same as for the simple counter. The main thing that's different is that we have to specify a path in redux where our reducers will store their data:",i.a.createElement(m.a,{className:"javascript"},k.keyPath),"The ",i.a.createElement("code",null,"key")," function receives your component's props as input and must return a key that's unique for the life of the component. Usually it's something like ",i.a.createElement("code",null,"key = (props) => props.id"),i.a.createElement("br",null),i.a.createElement("br",null),"The ",i.a.createElement("code",null,"path")," specifies where the data for your component lives in redux. It takes just one argument, the ",i.a.createElement("code",null,"key")," from the previous step.",i.a.createElement("br",null),i.a.createElement("br",null),"Note! You may also use ",i.a.createElement("code",null,"path")," with static components (like in the ",i.a.createElement("a",{href:"/counter-singleton",onClick:this.handleRoute},"previous example"),") if you wish to specify where they will store their data. It greatly helps with debugging. In this case however you must omit the ",i.a.createElement("code",null,"key"),".",i.a.createElement("h2",null,"2. Limiting the reducers"),"There's one last thing you need to do:",i.a.createElement(m.a,{className:"javascript"},k.reducers),"No matter which component triggers the action, all the reducers will receive it. So if counter #1 dispatches the ",i.a.createElement("code",null,"increment"),"action, counter #2 will also hear it.",i.a.createElement("br",null),i.a.createElement("br",null),"In order to prevent this, you must specifically take this into account in your reducers, like in the example above.",i.a.createElement("br",null),i.a.createElement("br",null),"And that's it!"),i.a.createElement("div",{className:"description"},i.a.createElement("h2",null,"Final Example"),"While the counters are separate, they are still connected to the counters in the example on top of this page:",i.a.createElement("div",{className:"demo"},i.a.createElement(f.a,{id:1}),i.a.createElement("br",null),i.a.createElement(f.a,{id:2})),"Next, check out the ",i.a.createElement("a",{href:"/sliders",onClick:this.handleRoute},"sliders")," demo to see how to add side effects to your code.",i.a.createElement("h2",null,"Full source"),i.a.createElement(m.a,{className:"javascript"},k.full),i.a.createElement("a",{href:"/sliders",onClick:this.handleRoute},"Next demo")))}}]),t}(u.Component))||h)},359:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),o=(n.n(r),n(226));t.default=n.i(r.createScene)({name:"counter-dynamic",component:o.a})},368:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=n(1024),i=(n.n(u),n(4)),l=n.n(i),s=n(34);n.n(s);n.d(t,"a",function(){return f});var p,m,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=(p=n.i(s.kea)({key:function(e){return e.id},path:function(e){return["scenes","counterDynamic","counter",e]},actions:function(){return{increment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{amount:e}},decrement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{amount:e}}}},reducers:function(e){var t,n=e.actions,r=e.key;e.props;return{counter:[0,i.PropTypes.number,(t={},c(t,n.increment,function(e,t){return t.key===r?e+t.amount:e}),c(t,n.decrement,function(e,t){return t.key===r?e-t.amount:e}),t)]}},selectors:function(e){var t=e.selectors;return{doubleCounter:[function(){return[t.counter]},function(e){return 2*e},i.PropTypes.number]}}}),p(m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.counter,n=e.doubleCounter,r=this.actions,o=r.increment,a=r.decrement;return l.a.createElement("div",{className:"kea-counter"},"Count: ",t,l.a.createElement("br",null),"Doublecount: ",n,l.a.createElement("br",null),l.a.createElement("button",{onClick:function(){return o(1)}},"Increment"),l.a.createElement("button",{onClick:function(){return a(1)}},"Decrement"))}}]),t}(i.Component))||m)},378:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),o=(n.n(r),n(226));t.default=n.i(r.createScene)({name:"counter-dynamic",component:o.a})},574:function(e,t,n){t=e.exports=n(32)(),t.push([e.i,"",""])},575:function(e,t,n){t=e.exports=n(32)(),t.push([e.i,".counter-dynamic-scene {\n  // text-align: center;\n}\n",""])},805:function(e,t){e.exports="// counter/index.js\nimport React, { Component, PropTypes } from 'react'\nimport { kea } from 'kea'\n\n@kea({\n  key: (props) => props.id,\n  path: (key) => ['scenes', 'counterDynamic', 'counter', key],\n\n  actions: () => ({\n    increment: (amount = 1) => ({ amount }),\n    decrement: (amount = 1) => ({ amount })\n  }),\n\n  reducers: ({ actions, key, props }) => ({\n    counter: [0, PropTypes.number, {\n      [actions.increment]: (state, payload) => payload.key === key ? state + payload.amount : state,\n      [actions.decrement]: (state, payload) => payload.key === key ? state - payload.amount : state\n    }]\n  }),\n\n  selectors: ({ selectors }) => ({\n    doubleCounter: [\n      () => [selectors.counter],\n      (counter) => counter * 2,\n      PropTypes.number\n    ]\n  })\n})\nexport default class Counter extends Component {\n  render () {\n    const { counter, doubleCounter } = this.props\n    const { increment, decrement } = this.actions\n\n    return (\n      <div className='kea-counter'>\n        Count: {counter}\n        <br />\n        Doublecount: {doubleCounter}\n        <br />\n        <button onClick={() => increment(1)}>Increment</button>\n        <button onClick={() => decrement(1)}>Decrement</button>\n      </div>\n    )\n  }\n}\n\n// index.js\nexport default class CounterDynamicScene extends Component {\n  render () {\n    return (\n      <div>\n        <Counter id={1} />\n        <Counter id={2} />\n      </div>\n    )\n  }\n}\n"},806:function(e,t){e.exports="import React, { Component, PropTypes } from 'react'\nimport { kea } from 'kea'\n\n@kea({\n  key: (props) => props.id,\n  path: (key) => ['scenes', 'counterDynamic', 'counter', key],\n\n  // ...\n})\nexport default class Counter extends Component {\n  // ...\n}\n"},807:function(e,t){e.exports="@kea({\n  key: (props) => props.id,\n  path: (key) => ['scenes', 'counterDynamic', 'counter', key],\n\n  actions: () => ({\n    increment: (amount = 1) => ({ amount }),\n    decrement: (amount = 1) => ({ amount })\n  }),\n\n  reducers: ({ actions, key, props }) => ({\n    counter: [0, PropTypes.number, {\n      [actions.increment]: (state, payload) => payload.key === key ? state + payload.amount : state,\n      [actions.decrement]: (state, payload) => payload.key === key ? state - payload.amount : state\n    }]\n  }),\n\n  // selectors: ...\n})\n"}},[1041]);